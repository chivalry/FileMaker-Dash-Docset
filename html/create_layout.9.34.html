<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="description" content="You can create a merge variable that displays a value from a variable. You can use merge variables for some tasks in place of global fields or unstored calculation fields. For example, a merge variable could display the total cost at the bottom of an invoi ..." />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Inserting merge variables onto a layout</title>
    <!-- MLP 012913 remove chapter specific css
    <link wwpage:condition="catalog-css" rel="StyleSheet" href="css/catalog.css" wwpage:attribute-href="catalog-css" type="text/css" media="all" />
	 -->
    <link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" />
    <!--[if lt IE 7]>
     <link rel="StyleSheet" href="../css/ie6.css" type="text/css" media="all" />
    <![endif]-->
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "../";
      // -->
    </script>
  </head>
  <body class="" style="">
    <div id="navbar">
      <a class="navleft" href="../index.html"><span class="navimg">FileMaker Pro 13 Help</span></a>
      <div class="navmarginright"></div>
      <a class="navright" href="toc.html">Contents</a>
      <a class="navright" href="create_layout.9.35.html"><span>Next</span> &gt;</a>
      <a class="navright" href="create_layout.9.33.html">&lt; <span>Previous</span></a>
    </div>
    <p id="breadcrumb">
      <a href="../index.html">Home</a> &gt; 
      <a href="part2.html#1064499">Designing and creating databases</a> &gt; 
      <a href="create_layout.9.1.html#1064499">Creating and managing layouts and reports</a> &gt; 
      <a href="create_layout.9.30.html#1064499">Drawing and inserting objects on a layout</a> &gt; 
      <b>Inserting merge variables onto a layout</b>
    </p>
    <blockquote class="content-fmi">
      <div class="h4-head4">Inserting merge variables onto a layout</div>
      <div class="b-body"><a name="1065885">You can create a </a><span class="g-glosslink"><a href="glossary.html#1036329">merge variable</a></span> that displays a value from a <span class="g-glosslink"><a href="glossary.html#1028231">variable</a></span>. You can use merge variables for some tasks in place of <span class="g-glosslink"><a href="glossary.html#1027766">global fields</a></span> or <span class="g-glosslink"><a href="glossary.html#1028220">unstored calculation</a></span> fields. For example, a merge variable could display the total cost at the bottom of an invoice, or display the name of the account used to print a report.</div>
      <div class="b-body"><a name="1066950">You see the merge variable value in Browse, Find, and Preview modes, and when you print records. </a></div>
      <div class="hs1-headsub1"><a name="1064984">To insert a merge variable onto a layout:</a></div>
      <div class="s1f-step1first_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="s1f-step1first_inner" style="width: 1.5em; white-space: nowrap;">
                <span class="zan-autonum">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="s1f-step1first_inner"><a name="1064994">Create a variable using the </a><span class="zh-hyper"><a href="scripts_ref1.36.16.html#1044136">Set Variable script step</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1-body1"><a name="1136564">FileMaker recommends that you create </a><span class="g-glosslink"><a href="glossary.html#1027769">global variables</a></span> for use as merge variables.</div>
      <div class="s1r-step1reg_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="s1r-step1reg_inner" style="width: 1.5em; white-space: nowrap;">
                <span class="zan-autonum">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="s1r-step1reg_inner"><a name="1136565">In Layout mode, click in the layout where you want to insert the variable, then choose </a><span class="o-onscreen">Insert</span> menu &gt; <span class="o-onscreen">Merge Variable</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1-body1"><a name="1065024">For example, insert a merge variable into a text block or by itself on the layout.</a></div>
      <div class="b1-body1"><a name="1065048">Do not insert merge variables over a field or any other object that you want to view.</a></div>
      <div class="b1-body1"><a name="1065028">A placeholder merge variable (</a><span class="o-onscreen">&lt;&lt;$$&gt;&gt;</span>) appears on the layout.</div>
      <div class="s1r-step1reg_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="s1r-step1reg_inner" style="width: 1.5em; white-space: nowrap;">
                <span class="zan-autonum">3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="s1r-step1reg_inner"><a name="1065069">Click between the </a><span class="o-onscreen">$$</span> and <span class="o-onscreen">&gt;&gt;</span> symbols in the placeholder variable, then type the merge variable name (the name of the variable you created in step 1).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="ni-noteimportant">
        <span class="zan-autonum">Important  </span><a name="1065148">To ensure that merge values are displayed accurately, each record must be refreshed as it is being browsed, previewed, or printed. You can refresh records manually by, for example, creating a “Refresh” </a><span class="g-glosslink"><a href="glossary.html#1027559">button</a></span> that calls the <span class="zh-hyper"><a href="scripts_ref2.37.9.html#1027804">Refresh Window</a></span> script step, or automatically by creating a script that includes the Refresh Window script step.</div>
      <div class="hs1-headsub1"><a name="1065249">Examples</a></div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1066175">To create a merge variable named </a><span class="c-code">&lt;&lt;$$acctname&gt;&gt;</span>, which displays the name of the user’s account, create the script step: <span class="c-code">Set Variable[$$acctname; Value: Get(AccountName)]</span>. Then, insert the merge variable <span class="c-code">&lt;&lt;$$acctname&gt;&gt;</span> on the layout.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1066173">To create a merge variable named </a><span class="c-code">&lt;&lt;$$POnum&gt;&gt;</span>, which appends the text <span class="c-code">“‑MPO”</span> to the current record number to form a purchase order number, create the script step: <span class="c-code">Set Variable[$$POnum; Value: Get(RecordNumber) &amp; “‑MPO”]</span>. Then, insert the variable <span class="c-code">&lt;&lt;$$POnum&gt;&gt;</span> on the layout.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1067016">To display the current page number with the total number of pages in a report (for example, </a><span class="o-onscreen">Page 1 of 10</span>), start by creating a merge variable named <span class="c-code">&lt;&lt;$pp&gt;&gt;</span>, and create the following script for it:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1-body1"><span class="c-code"><a name="1067020">Enter Preview Mode<br />Go to Record/Request/Page [Last]<br />Set Variable [$pp; Value:Get(PageNumber)]<br />Go to Record/Request/Page [First]<br />Pause/Resume Script [Indefinitely]</a></span></div>
      <div class="b1-body1"><a name="1136326">Then, combine text, the page number symbol (</a><span class="c-code">{{PageNumber}}</span>), and the merge variable on the layout header or footer:</div>
      <div class="b1-body1"><span class="c-code"><a name="1136216">Page {{PageNumber}} of &lt;&lt;$pp&gt;&gt;</a></span></div>
      <div class="hs1-headsub1"><a name="1066172">Notes</a></div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1066582">A variable used as a merge variable cannot include the repetition (index) number of a repeating field (as in the syntax </a><span class="c-code">$variable[repetition]</span>) or a file path.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1065247">To remove a merge variable, select the merge variable on the layout, along with the </a><span class="o-onscreen">&lt;&lt;</span>, <span class="o-onscreen">$$</span>, and <span class="o-onscreen">&gt;&gt;</span> symbols, then press Backspace or Delete.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1065374">The value of a merge variable uses the attributes of the text block it is inserted into (or the layout’s default text attributes, if the merge variable was inserted onto the layout by itself). To change the text attributes of merge values, select the entire merge variable in Layout mode (including the </a><span class="o-onscreen">&lt;&lt;</span>, <span class="o-onscreen">$$</span>, and <span class="o-onscreen">&gt;&gt;</span> symbols), then select text formatting options. For more information, see <span class="zh-hyper"><a href="edit_layout.10.62.html#1029747">Formatting text</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1092713">In Browse mode and Preview modes, a text block displays and prints only as much text as will fit within its dimensions. Because merge variables can display a variable amount of data, the contents of a text block may be clipped and may not appear in its entirety. If necessary, resize the text block to display all of the text. For information on resizing text blocks, see </a><span class="zh-hyper"><a href="edit_layout.10.7.html#1027864">Resizing and reshaping objects</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bu1-bullet1_outer" style="margin-left: 0em;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="bu1-bullet1_inner" style="width: 1.5em; white-space: nowrap;">
                <span style="color: Black; font-weight: bold;"> •</span>
              </div>
            </td>
            <td width="100%">
              <div class="bu1-bullet1_inner"><a name="1092676">You can also use a </a><span class="g-glosslink"><a href="glossary.html#1027927">merge field</a></span> to display data. See <span class="zh-hyper"><a href="create_layout.9.27.html#1160797">Placing merge fields on a layout</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="rh-relatedhead">Related topics<a name="1064645"> </a></div>
      <div class="rt-relatedtopic"><span class="zh-hyper"><a href="create_script.13.1.html#1034729" name="1066070">Creating scripts to automate tasks</a></span></div>
      <div class="rt-relatedtopic"><span class="zh-hyper"><a href="create_script.13.25.html#1028657" name="1065538">Using buttons with scripts</a></span></div>
    </blockquote>
    <div class="feedbacklink">Was this topic helpful? <a href="http://www.filemaker.com/redirects/fmp13_admin.html?page=feedback&amp;lang=en" target="external_window">Send feedback.</a></div>
  </body>
</html>